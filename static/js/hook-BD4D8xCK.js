var u=(a,i,t)=>new Promise((s,l)=>{var p=e=>{try{r(t.next(e))}catch(o){l(o)}},n=e=>{try{r(t.throw(e))}catch(o){l(o)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(p,n);r((t=t.apply(a,i)).next())});import{g as x}from"./memberShip-sXacPlIT.js";import{t as d,n as m,x as h,b as g,r as y}from"./index-D3FY82Rz.js";function S(){const a=d({name:"",currentPage:1,pageSize:10}),i=m([]),t=m(!0),s=d({total:0,pageSize:10,currentPage:1,pageSizes:[5],background:!0}),p=[{label:"序号",type:"index",index:e=>(a.currentPage-1)*a.pageSize+e+1,minWidth:60},{label:"角色编号",hide:!0,prop:"id"},{label:"角色名称",prop:"name",minWidth:120},{label:"角色权限",prop:"permissions",minWidth:280,cellRenderer:({row:e,props:o})=>{var c;return g("div",{class:"tag-container",style:"display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;"},[(c=e.permissions)==null?void 0:c.map(f=>g(y("el-tag"),{size:o.size,type:"primary",effect:"dark"},{default:()=>[f.name]}))])}}];function n(){return u(this,null,function*(){t.value=!0;const{data:e}=yield x();i.value=e.results,s.total=e.total,setTimeout(()=>{t.value=!1},500)})}const r=e=>{e&&(e.resetFields(),n())};return h(()=>{n()}),{form:a,loading:t,columns:p,dataList:i,pagination:s,onSearch:n,resetForm:r}}export{S as useRole};
