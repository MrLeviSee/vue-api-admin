import{d as S,x as T,n as f,r,c as K,o as k,g as M,L as N,b as l,h as t,aK as U,u as e,f as c,_ as D}from"./index-D3FY82Rz.js";import{useDept as L}from"./hook-DtauTN-w.js";import{P as z}from"./index-Cqe1oaLd.js";import{u}from"./hooks-BZdzfI4y.js";import{d as E,a as F}from"./caret-top-CGOpovP0.js";import{d as O}from"./refresh-C_2cW1e5.js";import{d as j}from"./caret-bottom-CvVcbqpk.js";import{d as q}from"./add-circle-line-DOJqVT3s.js";import"./form.vue_vue_type_script_setup_true_lang-DreFWz0_.js";import"./index-CsrB2J66.js";import"./ApiManagement-DjAkuJHf.js";import"./useBasicLayout-DS6NlR9d.js";import"./edit-pen-Ci7W0xNM.js";import"./sortable.esm-7jaD_3Ar.js";import"./epTheme-CK3-dGfd.js";const G={class:"main"},H=S({name:"ApiManagementRoutes",__name:"index",setup(J){T(()=>{s.value=!R.value});function x(){s.value=!s.value}const s=f(!1),b=f(),_=f(),{form:n,loading:v,columns:C,dataList:V,isMobile:R,DataSync:w,onSearch:m,resetForm:$}=L();return(Q,o)=>{var y;const B=r("el-input"),i=r("el-form-item"),d=r("el-option"),g=r("el-select"),p=r("el-button"),I=r("el-form"),P=r("pure-table");return k(),K("div",G,[s.value?(k(),M(I,{key:0,ref_key:"formRef",ref:b,inline:!0,model:e(n),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[l(i,{label:"API名称：",prop:"summary"},{default:t(()=>[l(B,{modelValue:e(n).summary,"onUpdate:modelValue":o[0]||(o[0]=a=>e(n).summary=a),placeholder:"请输入API名称",clearable:"",class:"!w-[200px]",onKeyup:o[1]||(o[1]=U(a=>e(m)(),["enter"]))},null,8,["modelValue"])]),_:1}),l(i,{label:"启用状态：",prop:"enable"},{default:t(()=>[l(g,{modelValue:e(n).enable,"onUpdate:modelValue":o[2]||(o[2]=a=>e(n).enable=a),placeholder:"请选择启用状态",clearable:"",class:"!w-[180px]",onChange:o[3]||(o[3]=a=>e(m)())},{default:t(()=>[l(d,{label:"已激活",value:!0}),l(d,{label:"已停用",value:!1})]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"收费状态：",prop:"free"},{default:t(()=>[l(g,{modelValue:e(n).free,"onUpdate:modelValue":o[4]||(o[4]=a=>e(n).free=a),placeholder:"请选择收费状态",clearable:"",class:"!w-[180px]",onChange:o[5]||(o[5]=a=>e(m)())},{default:t(()=>[l(d,{label:"免费",value:!0}),l(d,{label:"收费",value:!1})]),_:1},8,["modelValue"])]),_:1}),l(i,null,{default:t(()=>[l(p,{type:"primary",icon:e(u)(e(E)),loading:e(v),onClick:e(m)},{default:t(()=>o[7]||(o[7]=[c(" 搜索 ")])),_:1},8,["icon","loading","onClick"]),l(p,{icon:e(u)(e(O)),onClick:o[6]||(o[6]=a=>e($)(b.value))},{default:t(()=>o[8]||(o[8]=[c(" 重置 ")])),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])):N("",!0),l(e(z),{title:"API列表",columns:e(C),tableRef:(y=_.value)==null?void 0:y.getTableRef(),onRefresh:e(m)},{buttons:t(()=>[l(p,{type:"danger",icon:e(u)(e(q)),onClick:e(w)},{default:t(()=>o[9]||(o[9]=[c(" 数据同步 ")])),_:1},8,["icon","onClick"]),l(p,{icon:s.value?e(u)(e(F)):e(u)(e(j)),onClick:x},null,8,["icon"])]),default:t(({size:a,dynamicColumns:A})=>[l(P,{ref_key:"tableRef",ref:_,adaptive:"",adaptiveConfig:{offsetBottom:45},"align-whole":"center","row-key":"id",showOverflowTooltip:"","table-layout":"auto",loading:e(v),size:a,data:e(V),columns:A,"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"}},{operation:t(({})=>o[10]||(o[10]=[])),_:2},1032,["loading","size","data","columns"])]),_:1},8,["columns","tableRef","onRefresh"])])}}}),ie=D(H,[["__scopeId","data-v-db17c20d"]]);export{ie as default};
